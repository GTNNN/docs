import{_ as s,o as a,c as n,Q as p}from"./chunks/framework.76cb5871.js";const d=JSON.parse('{"title":"ä½¿ç”¨ Puppeteer","description":"","frontmatter":{},"headers":[],"relativePath":"ä½¿ç”¨-Puppeteer.md","filePath":"ä½¿ç”¨-Puppeteer.md"}'),l={name:"ä½¿ç”¨-Puppeteer.md"},o=p(`<h1 id="ä½¿ç”¨-puppeteer" tabindex="-1">ä½¿ç”¨ Puppeteer <a class="header-anchor" href="#ä½¿ç”¨-puppeteer" aria-label="Permalink to &quot;ä½¿ç”¨ Puppeteer&quot;">â€‹</a></h1><blockquote><p>ğŸ“Œä½¿ç”¨ <code>puppeteer-core</code> æ—¶ï¼Œè¯·è®°ä½æ›´æ”¹å¯¼å…¥ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">puppeteer</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;puppeteer-core&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">puppeteer</span><span style="color:#24292E;"> </span><span style="color:#032F62;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;puppeteer-core&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div></blockquote><p>å¦‚æœæ‚¨ç†Ÿæ‚‰ JavaScriptï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Puppeteer æ¥è¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–æ“ä½œã€‚Puppeteer æ˜¯ç”± Google æä¾›çš„ä¸€ä¸ª Node.js åº“ï¼Œç”¨äºæ§åˆ¶ Chromium æµè§ˆå™¨è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€æŠ“å–ç½‘é¡µæ•°æ®ç­‰æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ Puppeteer çš„ç®€å•æ­¥éª¤ï¼š</p><ol><li><strong>å®‰è£… Puppeteer</strong>ï¼š é¦–å…ˆï¼Œæ‚¨éœ€è¦å®‰è£… Puppeteerã€‚æ‰“å¼€å‘½ä»¤è¡Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">puppeteer</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">puppeteer</span></span></code></pre></div></li><li><strong>ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬</strong>ï¼š åˆ›å»ºä¸€ä¸ª JavaScript æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼š<code>automate.js</code>ï¼‰å¹¶ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæœ¬ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Puppeteer æ‰“å¼€ä¸€ä¸ªç½‘é¡µã€å¡«å†™è¡¨å•å¹¶ç‚¹å‡»æŒ‰é’®ï¼š<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">browser</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> puppeteer.</span><span style="color:#B392F0;">launch</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">page</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> browser.</span><span style="color:#B392F0;">newPage</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ‰“å¼€ç½‘é¡µ</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">goto</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://example.com&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºæ‚¨æƒ³è¦æ‰“å¼€çš„ç½‘é¡µ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#input_id&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;Hello, Puppeteer!&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºå®é™…è¾“å…¥æ¡†çš„é€‰æ‹©å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ç‚¹å‡»æŒ‰é’®</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">click</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#button_id&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºå®é™…æŒ‰é’®çš„é€‰æ‹©å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ç­‰å¾…ä¸€æ®µæ—¶é—´</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">waitForTimeout</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2000</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// æš‚åœ2ç§’</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å…³é—­æµè§ˆå™¨</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> browser.</span><span style="color:#B392F0;">close</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">})();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> puppeteer </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;puppeteer&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å¯åŠ¨æµè§ˆå™¨å®ä¾‹</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">browser</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> puppeteer.</span><span style="color:#B392F0;">launch</span><span style="color:#E1E4E8;">({ headless: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// åˆ›å»ºæ–°é¡µé¢</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">page</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> browser.</span><span style="color:#B392F0;">newPage</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è®¿é—®ç½‘é¡µ</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">goto</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://www.baidu.com&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºæ‚¨æƒ³è¦è®¿é—®çš„ç½‘å€</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// åœ¨ç»ˆç«¯è¾“å‡ºé¡µé¢æ ‡é¢˜</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">title</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> page.</span><span style="color:#B392F0;">title</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;é¡µé¢æ ‡é¢˜:&#39;</span><span style="color:#E1E4E8;">, title);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å…³é—­æµè§ˆå™¨</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// await browser.close();</span></span>
<span class="line"><span style="color:#E1E4E8;">})();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(</span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">browser</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> puppeteer.</span><span style="color:#6F42C1;">launch</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">page</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> browser.</span><span style="color:#6F42C1;">newPage</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ‰“å¼€ç½‘é¡µ</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">goto</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;https://example.com&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºæ‚¨æƒ³è¦æ‰“å¼€çš„ç½‘é¡µ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#input_id&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Hello, Puppeteer!&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºå®é™…è¾“å…¥æ¡†çš„é€‰æ‹©å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ç‚¹å‡»æŒ‰é’®</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">click</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#button_id&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºå®é™…æŒ‰é’®çš„é€‰æ‹©å™¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ç­‰å¾…ä¸€æ®µæ—¶é—´</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">waitForTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2000</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// æš‚åœ2ç§’</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å…³é—­æµè§ˆå™¨</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> browser.</span><span style="color:#6F42C1;">close</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">})();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> puppeteer </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;puppeteer&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">(</span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å¯åŠ¨æµè§ˆå™¨å®ä¾‹</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">browser</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> puppeteer.</span><span style="color:#6F42C1;">launch</span><span style="color:#24292E;">({ headless: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// åˆ›å»ºæ–°é¡µé¢</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">page</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> browser.</span><span style="color:#6F42C1;">newPage</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è®¿é—®ç½‘é¡µ</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">goto</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;https://www.baidu.com&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// æ›¿æ¢ä¸ºæ‚¨æƒ³è¦è®¿é—®çš„ç½‘å€</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// åœ¨ç»ˆç«¯è¾“å‡ºé¡µé¢æ ‡é¢˜</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">title</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">title</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;é¡µé¢æ ‡é¢˜:&#39;</span><span style="color:#24292E;">, title);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å…³é—­æµè§ˆå™¨</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// await browser.close();</span></span>
<span class="line"><span style="color:#24292E;">})();</span></span></code></pre></div></li><li><strong>è¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬</strong>ï¼š åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ï¼š<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">node</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">automate.js</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">node</span><span style="color:#24292E;"> </span><span style="color:#032F62;">automate.js</span></span></code></pre></div>è„šæœ¬ä¼šå¯åŠ¨ Chromium æµè§ˆå™¨ï¼Œæ‰“å¼€æŒ‡å®šçš„ç½‘é¡µï¼Œå¹¶æ‰§è¡Œæ¨¡æ‹Ÿçš„è¾“å…¥å’Œç‚¹å‡»ç­‰æ“ä½œã€‚</li><li><strong>æ·±å…¥å­¦ä¹ </strong>ï¼š Puppeteer æä¾›äº†ä¸°å¯Œçš„ API å’ŒåŠŸèƒ½ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›ä¸€æ­¥å­¦ä¹ ã€‚æ‚¨å¯ä»¥äº†è§£å¦‚ä½•å®šä½å…ƒç´ ã€å¤„ç†è¡¨å•ã€ç­‰å¾…é¡µé¢åŠ è½½ç­‰æ“ä½œï¼Œä»¥åŠå¦‚ä½•å¤„ç†å¤æ‚çš„è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚</li></ol><p>è¯·æ³¨æ„ï¼Œä¸Šè¿°ç¤ºä¾‹åªæ˜¯ä¸€ä¸ªå…¥é—¨çº§çš„è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ‰©å±•å’Œä¿®æ”¹ã€‚åœ¨ä½¿ç”¨ Puppeteer æ—¶ï¼Œç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† Node.jsï¼Œå¹¶æ ¹æ®éœ€è¦å®‰è£…å’Œé…ç½®æ‰€éœ€çš„æµè§ˆå™¨ã€‚ä¸åŒäºSeleniumï¼ŒPuppeteerä½¿ç”¨çš„æ˜¯å†…ç½®çš„ Chromium æµè§ˆå™¨ï¼Œå› æ­¤æ‚¨æ— éœ€å•ç‹¬ä¸‹è½½å’Œé…ç½®æµè§ˆå™¨é©±åŠ¨ç¨‹åºã€‚</p>`,5),e=[o];function t(c,r,E,y,i,F){return a(),n("div",null,e)}const g=s(l,[["render",t]]);export{d as __pageData,g as default};
